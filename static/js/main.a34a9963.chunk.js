(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[0],{440:function(e,t,n){},532:function(e,t,n){"use strict";n.r(t);n(237),n(248);var a=n(1),r=n.n(a),o=n(234),c=n.n(o),i=(n(440),n(52)),s=n(33),u=n.n(s),l=n(152),d=n.n(l),m=n(235),v=n.n(m),b=n(236),g=n.n(b),p=n(3),f=n.n(p),h=Object(a.createContext)({abortable:!1,readyState:0,supported:!0});function C(e){var t=Object(a.useRef)();return t.current=e,t}function E(e){if("undefined"!==typeof window)return"undefined"!==typeof window[e]?window[e]:window["webkit".concat(e)]}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=arguments,n=this;d()(t).call(t,(function(t){return t.apply(n,e)}))}}function j(e){return!(!e||"function"!==typeof e.abort)}var O=function(e){var t=e.children,n=e.extra,o=e.grammar,c=e.lang,i=e.onDictate,s=e.onError,l=e.onProgress,m=e.onRawEvent,b=e.speechGrammarList,p=e.speechRecognition,f=e.started,E=Object(a.useState)(0),O=u()(E,2),x=O[0],k=O[1],R=Object(a.useRef)(!1),N=C(n),S=C(o),w=C(c),P=Object(a.useRef)(!1),T=C(i),D=C(s),L=C(l),G=C(m),F=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}(p),M=Object(a.useRef)(),U=C(b),J=C(p);F!==p&&(P.current=!1);var _=Object(a.useCallback)((function(e){return e.target===M.current&&k(3)}),[M,k]),q=Object(a.useCallback)((function(e){var t=e.target;t===M.current&&(k(2),R.current=!0,L.current&&L.current({abortable:j(t),type:"progress"}))}),[R,L,M,k]),B=Object(a.useCallback)((function(e){e.target===M.current&&(M.current=void 0,k(0),R.current&&T.current&&T.current({type:"dictate"}))}),[R,T,M,k]),I=Object(a.useCallback)((function(e){e.target===M.current&&(R.current=!1,M.current=void 0,"not-allowed"===e.error&&(P.current=!0),k(0),D.current&&D.current(e))}),[R,D,P,M,k]),V=Object(a.useCallback)((function(e){e.target===M.current&&G.current&&G.current(e)}),[G,M]),Y=Object(a.useCallback)((function(e){var t=e.results,n=e.target;if(n===M.current&&t.length){var a=v()([]).call(t,(function(e){var t=e[0];return{confidence:t.confidence,transcript:t.transcript}}));t[0].isFinal?(R.current=!1,T.current&&T.current({result:a[0],type:"dictate"})):L.current&&L.current({abortable:j(n),results:a,type:"progress"})}}),[R,T,L,M]),A=Object(a.useCallback)((function(e){return e.target===M.current&&k(1)}),[M,k]);Object(a.useEffect)((function(){if(f){var e;if(!J.current||P.current)throw new Error("Speech recognition is not supported");var t=U.current&&S.current&&new U.current,n=M.current=new J.current;t&&(t.addFromString(S.current,1),n.grammars=t),n.lang=w.current,n.interimResults=!0,n.onaudioend=y(_,V),n.onaudiostart=y(q,V),n.onend=y(B,V),n.onerror=y(I,V),n.onnomatch=V,n.onresult=y(Y,V),n.onsoundend=V,n.onsoundstart=V,n.onspeechend=V,n.onspeechstart=V,n.onstart=y(A,V);var a=N.current;a&&d()(e=g()(a)).call(e,(function(e){var t=u()(e,2),a=t[0],r=t[1];"constructor"!==a&&"prototype"!==a&&"__proto__"!==a&&(n[a]=r)})),n.start()}return function(){var e=M.current;if(e){if(!j(e))throw new Error("Failed to stop recognition while the current one is ongoing and is not abortable.");e.abort()}}}),[N,S,_,q,B,I,V,Y,A,w,P,M,U,J,f]);var z=j(M.current)&&2===x,H=!!p&&!P.current,K=Object(a.useMemo)((function(){return{abortable:z,readyState:x,supported:H}}),[z,x,H]);return r.a.createElement(h.Provider,{value:K},r.a.createElement(h.Consumer,null,(function(e){return"function"===typeof t?t(e):t})))};O.defaultProps={children:void 0,extra:void 0,grammar:void 0,lang:void 0,onDictate:void 0,onError:void 0,onProgress:void 0,onRawEvent:void 0,speechGrammarList:navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&E("SpeechGrammarList"),speechRecognition:navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&E("SpeechRecognition"),started:void 0},O.propTypes={children:f.a.any,extra:f.a.any,grammar:f.a.string,lang:f.a.string,onDictate:f.a.func,onError:f.a.func,onProgress:f.a.func,onRawEvent:f.a.func,speechGrammarList:f.a.any,speechRecognition:f.a.any,started:f.a.any};var x=O;function k(){return Object(a.useContext)(h)}function R(){return[k().readyState]}function N(){return[k().supported]}var S=function(e){var t=e.children,n=e.className,a=e.disabled,o=e.onClick,c=R(),i=u()(c,1)[0],s=N(),l=u()(s,1)[0];return r.a.createElement("button",{className:n,disabled:1===i||3===i||!l||a,onClick:o,type:"button"},"function"===typeof t?t({readyState:i}):t)};S.defaultProps={children:void 0,className:void 0,disabled:void 0},S.propTypes={children:f.a.any,className:f.a.string,disabled:f.a.bool,onClick:f.a.func.isRequired};var w=function(e){var t=e.children,n=e.className,o=e.disabled,c=e.extra,i=e.grammar,s=e.lang,l=e.onClick,d=e.onDictate,m=e.onError,v=e.onProgress,b=e.onRawEvent,g=e.speechGrammarList,p=e.speechRecognition,f=Object(a.useState)(),h=u()(f,2),E=h[0],y=h[1],j=C(l),O=C(d),k=C(m),R=Object(a.useCallback)((function(e){j.current&&j.current(e),!e.isDefaultPrevented()&&y((function(e){return!e}))}),[j,y]),N=Object(a.useCallback)((function(e){y(!1),O.current&&O.current(e)}),[O,y]),w=Object(a.useCallback)((function(e){y(!1),k.current&&k.current(e)}),[k,y]);return r.a.createElement(x,{extra:c,grammar:i,lang:s,onDictate:N,onError:w,onProgress:v,onRawEvent:b,speechGrammarList:g,speechRecognition:p,started:E&&!o},r.a.createElement(S,{className:n,disabled:o,onClick:R},t))};w.defaultProps={children:void 0,className:void 0,disabled:void 0,extra:void 0,grammar:void 0,lang:void 0,onClick:void 0,onDictate:void 0,onError:void 0,onProgress:void 0,onRawEvent:void 0,speechGrammarList:void 0,speechRecognition:void 0},w.propTypes={children:f.a.any,className:f.a.string,disabled:f.a.bool,extra:f.a.any,grammar:f.a.string,lang:f.a.string,onClick:f.a.func,onDictate:f.a.func,onError:f.a.func,onProgress:f.a.func,onRawEvent:f.a.func,speechGrammarList:f.a.any,speechRecognition:f.a.any};var P=w,T=function(e){var t=e.children,n=e.className,a=e.disabled,o=e.onChange,c=e.started,i=R(),s=u()(i,1)[0],l=N(),d=u()(l,1)[0];return r.a.createElement("label",null,r.a.createElement("input",{checked:c,className:n,disabled:1===s||3===s||!d||a,onChange:o,type:"checkbox"}),"function"===typeof t?t({readyState:s}):t)};T.defaultProps={children:void 0,className:void 0,disabled:void 0},T.propTypes={children:f.a.any,className:f.a.string,disabled:f.a.bool,onChange:f.a.func.isRequired,started:f.a.bool.isRequired};var D=function(e){var t=e.children,n=e.className,o=e.disabled,c=e.extra,i=e.grammar,s=e.lang,l=e.onDictate,d=e.onError,m=e.onProgress,v=e.onRawEvent,b=e.speechGrammarList,g=e.speechRecognition,p=Object(a.useState)(!1),f=u()(p,2),h=f[0],C=f[1],E=Object(a.useCallback)((function(e){var t=e.target.checked;C(t)}),[C]),y=Object(a.useCallback)((function(e){C(!1),l&&l(e)}),[l,C]),j=Object(a.useCallback)((function(e){C(!1),d&&d(e)}),[d,C]);return r.a.createElement(x,{extra:c,grammar:i,lang:s,onDictate:y,onError:j,onProgress:m,onRawEvent:v,speechGrammarList:b,speechRecognition:g,started:h&&!o},r.a.createElement(T,{className:n,disabled:o,onChange:E,started:h},t))};D.defaultProps={children:void 0,className:void 0,disabled:void 0,extra:void 0,grammar:void 0,lang:void 0,onDictate:void 0,onError:void 0,onProgress:void 0,onRawEvent:void 0,speechGrammarList:void 0,speechRecognition:void 0},D.propTypes={children:f.a.any,className:f.a.string,disabled:f.a.bool,extra:f.a.any,grammar:f.a.string,lang:f.a.string,onDictate:f.a.func,onError:f.a.func,onProgress:f.a.func,onRawEvent:f.a.func,speechGrammarList:f.a.any,speechRecognition:f.a.any};var L=D;var G=P;function F(e){var t=Object(a.useRef)();return t.current=e,t}var M=function(e){var t=e.buttonClassName,n=e.className,o=e.disabled,c=e.interim,i=e.listening,s=e.listeningText,u=e.onChange,l=e.onClick,d=e.started,m=e.startText,v=e.stopText,b=e.textboxClassName,g=e.value,p=Object(a.useContext)(h),f=p.readyState,C=p.supported;return r.a.createElement("div",{className:n},r.a.createElement("button",{className:t,disabled:1===f||3===f||!C||o,onClick:l},f>1?v:m),r.a.createElement("input",{className:b,onChange:u,placeholder:d&&i?c||s:"",readOnly:0!==f,type:"text",value:!d&&g||""}))};M.defaultProps={buttonClassName:void 0,className:void 0,disabled:void 0,interim:void 0,listeningText:void 0,startText:void 0,stopText:void 0,textboxClassName:void 0,value:void 0};var U=function(e){var t=e.buttonClassName,n=e.className,o=e.disabled,c=e.grammar,s=e.lang,u=e.listeningText,l=e.onChange,d=e.onError,m=e.speechGrammarList,v=e.speechRecognition,b=e.startText,g=e.stopText,p=e.textboxClassName,f=e.value,h=Object(a.useState)(""),C=Object(i.a)(h,2),E=C[0],y=C[1],j=Object(a.useState)(!1),O=Object(i.a)(j,2),k=O[0],R=O[1],N=Object(a.useState)(!1),S=Object(i.a)(N,2),w=S[0],P=S[1],T=F(l),D=F(d),L=Object(a.useCallback)((function(e){var t=e.target.value;return T.current&&T.current({value:t})}),[T]),G=Object(a.useCallback)((function(){return P((function(e){return!e}))}),[P]),U=Object(a.useCallback)((function(e){var t=(e.result||{}).transcript;y(void 0),R(!1),P(!1),T.current&&T.current({value:t})}),[T,y,R,P]),J=Object(a.useCallback)((function(e){console.log("error",e),y(void 0),R(!1),P(!1),D.current&&D.current(e)}),[D,y,R,P]),_=Object(a.useCallback)((function(e){var t=e.results;y((t||[]).map((function(e){return e.transcript.trim()})).join(" ")),R(!0)}),[y,R]);return r.a.createElement(x,{grammar:c,lang:s,onDictate:U,onError:J,onProgress:_,speechGrammarList:m,speechRecognition:v,started:w&&!o},r.a.createElement(M,{buttonClassName:t,className:n,disabled:o,interim:E,listening:k,listeningText:u,onChange:L,onClick:G,started:w,startText:b,stopText:g,textboxClassName:p,value:f}))};U.defaultProps={buttonClassName:void 0,className:void 0,disabled:void 0,grammar:void 0,lang:void 0,listeningText:"Listening\u2026",onChange:void 0,speechGrammarList:void 0,speechRecognition:void 0,startText:"Dictate",stopText:"Stop",textboxClassName:void 0,value:void 0};var J=U,_=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(),s=Object(i.a)(c,2),u=s[0],l=s[1],d=Object(a.useState)(),m=Object(i.a)(d,2),v=m[0],b=m[1],g=Object(a.useCallback)((function(e){var t=e.value;return o(t)}),[o]),p=Object(a.useCallback)((function(e){var t=e.result||{},n=t.confidence,a=t.transcript;l(void 0),b({confidence:n,transcript:a})}),[l,b]),f=Object(a.useCallback)((function(){l(void 0),b(void 0)}),[l,b]),h=Object(a.useCallback)((function(e){l(e.results),b(void 0)}),[l,b]),C=Object(a.useCallback)((function(e){return console.log("Raw event: ".concat(e.type),e)}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"<DictateButton>"),r.a.createElement("div",null,r.a.createElement(G,{className:"my-dictate-button",grammar:"#JSGF V1.0; grammar districts; public <district> = Tuen Mun | Yuen Long;",lang:"en-US",onDictate:p,onError:f,onProgress:h,onRawEvent:C},(function(e){var t=e.readyState;return 0===t?"Start dictation":1===t?"Starting...":"Stop dictation"}))),r.a.createElement("h1",null,"<DictateCheckbox>"),r.a.createElement("div",null,r.a.createElement(L,{className:"my-dictate-button",lang:"en-US",onDictate:p,onError:f,onProgress:h,onRawEvent:C},(function(e){var t=e.readyState;return 0===t?"Start dictation":1===t?"Starting...":"Stop dictation"}))),r.a.createElement("h1",null,"Result"),v?r.a.createElement("p",null,v.transcript):!!u&&r.a.createElement("p",null,u.map((function(e,t){var n=e.confidence,a=e.transcript;return r.a.createElement("span",{key:t,style:{opacity:n?Math.ceil(2*n)/2:.5}},a)}))),r.a.createElement("h1",null,"Custom textbox"),r.a.createElement(J,{grammar:"#JSGF V1.0; grammar districts; public <district> = Tuen Mun | Yuen Long;",lang:"en-US",onChange:g,value:n}))},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,533)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),q()}},[[532,1,2]]]);
//# sourceMappingURL=main.a34a9963.chunk.js.map