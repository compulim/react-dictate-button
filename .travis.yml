language: node_js
node_js:
  - "10"
before_script:
  - npx version-from-git --travis --no-git-tag-version
  - npm run bootstrap
  - node scripts/syncVersion
  - npm run build
before_deploy:
  - cp -r packages/component/lib .
deploy:
  - provider: npm
    api_key:
      secure: "BAhgyCHeix+UfZ3P1lkjeh4QlK+hFV/WGgc7Jdez50y4gEdviahHHeuRpwQLNhfixl8TIMe5dGV2ax7aVyVb3JGkFdKQsYNSFghUNH06ir4QHay8855HobbrMbuUHkplEDCBIfdFKyvITOkAsboq9YSe2fN0GgAKiuBjeyX9x26dyKiPstBnEef+DRMdixIU2YHeO0QcFVKSHXETubU1OZrfpWetNMDctGiXc1TmSBNAvHwmTEXNl6ACSk973BGGsp8fq270X5QvEOW6uQT8uqNTsbldbtjnBfCdI4yqVCRc6LNJ1uy16MQJcyxjuWZhhDObCvaYaqt+Qil9JYyj5D3V9JatjPss5TuL76YpmY6bsRgucToG1wk6z0nhODtGoNjMWbhusivQoRONRRhX0E4srQ7QDUL8coOyGviBJZpRS/k9MlKsHEyJIKZAKQH1od7HhCsyY0hj+HmNNTHCADt+n3pn6w8/SfFBf/wLkT7e6w5uAmX1xtv8yDmsC+THPR4hux24HPqd4rBzyhIQEcRZpkYiJ3QhWF8Of8rnOuXzHUhSUuYM3sc/xj89dA0n56oOhWzGyweQ0SiHvrYt/dxsfNmq4WvJ9tYFmwyc3Lw+zgdJWU/mgcI80T2JwoqVy8gSDdwUacaacDKjbfQKG7094U8YTKiiRxfza/tRmhw="
    email: "compulim@hotmail.com"
    on:
      branch: master
    skip_cleanup: true
    tag: master
  - provider: npm
    api_key:
      secure: "BAhgyCHeix+UfZ3P1lkjeh4QlK+hFV/WGgc7Jdez50y4gEdviahHHeuRpwQLNhfixl8TIMe5dGV2ax7aVyVb3JGkFdKQsYNSFghUNH06ir4QHay8855HobbrMbuUHkplEDCBIfdFKyvITOkAsboq9YSe2fN0GgAKiuBjeyX9x26dyKiPstBnEef+DRMdixIU2YHeO0QcFVKSHXETubU1OZrfpWetNMDctGiXc1TmSBNAvHwmTEXNl6ACSk973BGGsp8fq270X5QvEOW6uQT8uqNTsbldbtjnBfCdI4yqVCRc6LNJ1uy16MQJcyxjuWZhhDObCvaYaqt+Qil9JYyj5D3V9JatjPss5TuL76YpmY6bsRgucToG1wk6z0nhODtGoNjMWbhusivQoRONRRhX0E4srQ7QDUL8coOyGviBJZpRS/k9MlKsHEyJIKZAKQH1od7HhCsyY0hj+HmNNTHCADt+n3pn6w8/SfFBf/wLkT7e6w5uAmX1xtv8yDmsC+THPR4hux24HPqd4rBzyhIQEcRZpkYiJ3QhWF8Of8rnOuXzHUhSUuYM3sc/xj89dA0n56oOhWzGyweQ0SiHvrYt/dxsfNmq4WvJ9tYFmwyc3Lw+zgdJWU/mgcI80T2JwoqVy8gSDdwUacaacDKjbfQKG7094U8YTKiiRxfza/tRmhw="
    email: "compulim@hotmail.com"
    on:
      tags: true
    skip_cleanup: true
  - provider: pages
    skip-cleanup: true
    github-token:
      secure: "NFZFAS3AQmoyxfbYSIcO9VzGrdIytzKs6ZLWGQSc8uU5tkpPuOprAgsy5vIAtE7ZHxng207wnBMQb6Y2AdTeZH53q7tD81lUoU+vb0WIyIdmwfupemUyo42MW48z5VuuO7LWfjfr7E77F89gGDbFIiDEyWeEGzo/rtcLViViQSmdoXRTTWaeFnehTIzuqBilaCGu/naqXT4NR2iRJ2NWIzgVhre1OFsl18d8cqIlwiAzQsgoH0eb+1Xt2lnfXibzjOi90B+S/+iz9sbNqjDYAEuSEK6qrYAOiFyxh6FQMUA+O1s2IQWR7HM1FHCfMDVJr1Pvis4DBE7qZIeyDV91U4pJm9qjWIm1BXem2tnx1kTN/uCSSuQuYWtbrValW7bH0HhmyefJEXNjFiAUWnRwS6Td0vEeaQl/ffUnCgi5WP5U9AM64GPLtTtvJ86Jm2vvzOYKHOY5gIGo4JZdOIZ9JtGVZhNqsMoKRUUcnO1HtNorTQWTP5h5Z5k6Eq921vcDTBKgtXWL28MuKbvT5lSfx4ebwHLtmwFFG65Uk1z1iyE7mecBxmCV+W5YLR8ypkuZxSOsMgVgg/TwctpfSOFB5bP02ej28zXB1K4PaKLLkq5zD602zvztoZCqV65w+L5MrjAl0lLe7c84o2f3K7qQ5HZ8RvuFtmzepPIIRxzvMN4="
    on:
      branch: master
    local-dir: packages/playground/build
  - provider: releases
    api_key:
      secure: "NFZFAS3AQmoyxfbYSIcO9VzGrdIytzKs6ZLWGQSc8uU5tkpPuOprAgsy5vIAtE7ZHxng207wnBMQb6Y2AdTeZH53q7tD81lUoU+vb0WIyIdmwfupemUyo42MW48z5VuuO7LWfjfr7E77F89gGDbFIiDEyWeEGzo/rtcLViViQSmdoXRTTWaeFnehTIzuqBilaCGu/naqXT4NR2iRJ2NWIzgVhre1OFsl18d8cqIlwiAzQsgoH0eb+1Xt2lnfXibzjOi90B+S/+iz9sbNqjDYAEuSEK6qrYAOiFyxh6FQMUA+O1s2IQWR7HM1FHCfMDVJr1Pvis4DBE7qZIeyDV91U4pJm9qjWIm1BXem2tnx1kTN/uCSSuQuYWtbrValW7bH0HhmyefJEXNjFiAUWnRwS6Td0vEeaQl/ffUnCgi5WP5U9AM64GPLtTtvJ86Jm2vvzOYKHOY5gIGo4JZdOIZ9JtGVZhNqsMoKRUUcnO1HtNorTQWTP5h5Z5k6Eq921vcDTBKgtXWL28MuKbvT5lSfx4ebwHLtmwFFG65Uk1z1iyE7mecBxmCV+W5YLR8ypkuZxSOsMgVgg/TwctpfSOFB5bP02ej28zXB1K4PaKLLkq5zD602zvztoZCqV65w+L5MrjAl0lLe7c84o2f3K7qQ5HZ8RvuFtmzepPIIRxzvMN4="
    on:
      tags: true
    skip_cleanup: true
